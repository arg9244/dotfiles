###General###
#The default profile which sets some recommended settings
profile=gpu-hq
#The called API
#Use "opengl" if you have compatibility issues.For displaying HDR content (not HDR -> SDR) "d3d11" is recommended (Windows only). 
gpu-api=vulkan
#Hardware decoding for whatever your CPU/GPU supports (e.g. 8bit h264 / 10bit h265)
#Only should be used when your CPU/GPU are very old, else avoid using it
#Use "auto-copy-safe" for the safest result in trade of better performance
#You can manually try "d3d11va" / "dxva2-copy" on Windows, "vaapi" / "vaapi-copy" on Linux or "nvdec" / "nvdec-copy" with an Nvidia GPUs
hwdec-codecs=all
hwdec=auto-copy-safe

#Don't close the player after finishing the video
keep-open=yes
#The last position of your video is saved when quitting mpv
save-position-on-quit=yes
#Start mpv with a % smaller resolution of your screen
autofit=100%
#Force seeking (if seeking doesn't work)
force-seekable=yes

###OSD###
#Don't show a huge volume box on screen when turning the volume up/down
osd-bar=no
#Cursor hide in ms
cursor-autohide=100

###Priority###
#slang=gem,ger,gmh,eng,enm
#alang=ger,jpn,eng,enm

###Audio###
#Default volume of the player
volume=70
#Max volume of the player
volume-max=200
#Load external audio with (almost) the same name as the video
audio-file-auto=fuzzy
#Audio delay 
#Useful if you're watching with your headphones on PC, but output the video on your Television with a long HDMI cable (counter the delay) 
# audio-delay=+0.084

###Subs###
#Forces showing subtitles while seeking through the video
demuxer-mkv-subtitle-preroll=yes
#Backward compatibility for vsfilter
#Disabling it "no" can result in broken subtitles in older vsfilter subtitles (recommended)
#Enabling it "yes" can result in broken subtitles in newer libass subtitles
sub-ass-vsfilter-blur-compat=no
#Fixes subtitle timing for gaps smaller than 210ms (works with PGS subtitles)
sub-fix-timing=yes
#Load external subtitles with (almost) the same name as the video 
sub-auto=fuzzy
#Some settings fixing VOB/PGS subtitles (creating blur & changing yellow subs to gray)
sub-gauss=1.0
sub-gray=yes
#Loads external .ass file for overwriting the styles of the current subtitles
# sub-ass-styles=C:\mpv\template_advanced.ass
#Some settings overwritting the default Arial for .srt subtitles (or .ass if you force it)
sub-font=Andika New Basic Bold
sub-font-size=52
sub-blur=0.2
sub-border-color=0.0/0.0/0.0/1.0
sub-border-size=3.0
sub-color=1.0/1.0/1.0/1.0
sub-margin-x=100
sub-margin-y=50
sub-shadow-color=0.0/0.0/0.0/0.25
sub-shadow-offset=0

###Screenshot###
#Output format of screenshots
screenshot-format=png
#Same output bitdepth as the video
#Set it "no" if you want to save disc space
screenshot-high-bit-depth=yes
#Compression of the PNG picture (1-9)
#Higher value means better compression, but takes more time
screenshot-png-compression=1
#Quality of JPG pictures (0-100)
#Higher value means better quality
screenshot-jpeg-quality=95
#Output directory
screenshot-directory="C:\Users\Reza\Pictures\Screenshots"
#Name format you want to save the pictures
screenshot-template="%f-%wH.%wM.%wS.%wT-#%#00n"

###Dither###
#Use "auto" or "8"/"10"/"12" depending on your display bitdepth
#Can lead to ugly outputs when you set the wrong bitdepth number
dither-depth=auto
#Selects the dithering algorithm
#Use "error-diffusion" with high-end GPUs (experimental), else use "fruit"
dither=fruit
#Selects the kernel in case of error-diffusion
#"sierra-lite" is the fastest choice with decent results, alternatives are "floyd-steinberg" (slow), "atkinson" (slower) and "jarvis-judice-ninke" (slowest) 
error-diffusion=sierra-lit

###Deband###
#Debanding on all videos
#Set it "no" if you rather handle it with profiles
deband=yes
#Deband steps (More = Better quality, but higher GPU cost)
deband-iterations=4
#Deband strength (More = Less banding, but more detail loss)
deband-threshold=48
#Deband range (More = Less banding, but higher GPU cost)
deband-range=16
#Dynamic Grain (More = More dynamic grain)
#Set it to "0" in case you use the static grain shader
deband-grain=48

###Grain###
#Luma
glsl-shader="C:\Portable\mpv\Shaders\noise_static_luma.hook"
#Chroma
glsl-shader="C:\Portable\mpv\Shaders\noise_static_chroma.hook"

###Resizer###
#FSRCNN
# glsl-shader="C:\mpv\Shaders\FSRCNN_x2_r2_16-0-2.glsl"
# scale=ewa_lanczos
# fbo-format=rgba16hf (rgba16f for "gpu-api=opengl")
#nnedi3
# glsl-shader="C:\Portable\mpv\Shaders\nnedi3-nns256-win8x6.hook"
# scale=ewa_lanczos
# fbo-format=rgba16hf (rgba16f for "gpu-api=opengl")
# no-scaler-resizes-only (fixing the pixel shift)
#ravu
# glsl-shader="C:\mpv\Shaders\ravu-zoom-r4.hook"
# scale=ewa_lanczos
# fbo-format=rgba16hf (rgba16f for "gpu-api=opengl")
# no-scaler-resizes-only (fixing the pixel shift)


###Interpolation###
#Subtitle blending in scenechanges (smoother effect)
blend-subtitles=yes
#Set the fps as the max. of your monitor Hz (only useful and needed with "interpolation=yes)
video-sync=display-resample
#Activate interpolation
interpolation=yes
tscale=box
tscale-window=sphinx
tscale-radius=1.05
tscale-clamp=0.0

###Profiles###
[WebDL-AoD]
profile-cond=string.match(p.filename, "%[1080p%+%]")~=nil
deband=no

[WebDL]
profile-cond=string.match(p.filename, "%[Web%-DL%]")~=nil
deband=yes

[HorribleSubs]
profile-cond=string.match(p.filename, "HorribleSubs")~=nil
deband=yes

[EraiRaws]
profile-cond=string.match(p.filename, "Erai%-raws")~=nil
deband=yes

[SubsPlease]
profile-cond=string.match(p.filename, "SubsPlease")~=nil
deband=yes